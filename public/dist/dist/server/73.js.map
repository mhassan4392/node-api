{"version":3,"file":"73.js","sources":["webpack:///./mixins/validations.js","webpack:///./components/blog/comments/CommentForm.vue?e035","webpack:///CommentForm.vue","webpack:///./components/blog/comments/CommentForm.vue?a941","webpack:///./components/blog/comments/CommentForm.vue"],"sourcesContent":["export default {\n  data() {\n    return {\n      valid: false,\n      rules: {\n        required: (value) =>\n          !!value || this.$t('errorMessages.form.fieldRequired'),\n        confirmPassword: (value, v2) =>\n          value === v2 || this.$t('errorMessages.form.confirmPasswordNotMatch'),\n        isEmail: (value) =>\n          // eslint-disable-next-line\n          /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(value) ||\n          this.$t('errorMessages.form.addValidEmail'),\n        passwordMinLength: (value) =>\n          (value && value.length >= 8) ||\n          this.$t('errorMessages.form.passwordLength'),\n        isImage: (value) => {\n          if (value && value.type) {\n            return (\n              value.type.startsWith('image') ||\n              this.$t('errorMessages.form.plzUploadImage')\n            )\n          } else {\n            return true\n          }\n        },\n        imageSize: (value) => {\n          if (value && value.size) {\n            return (\n              value.size < 2048000 || this.$t('errorMessages.form.imageSize')\n            )\n          } else {\n            return true\n          }\n        }\n      }\n    }\n  },\n  methods: {\n    validate() {\n      this.$refs.form.validate()\n    }\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-form',{ref:\"commentForm\",on:{\"submit\":function($event){$event.preventDefault();return _vm.add($event)}},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-textarea',{attrs:{\"label\":_vm.$t('comments.form.commentLabel'),\"single-line\":\"\",\"outlined\":\"\",\"rounded\":\"\",\"rules\":[_vm.rules.required]},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}}),_vm._v(\" \"),(!_vm.$auth.loggedIn)?_c('v-text-field',{attrs:{\"outlined\":\"\",\"rounded\":\"\",\"label\":_vm.$t('comments.form.nameLabel'),\"rules\":[_vm.rules.required]},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}):_vm._e(),_vm._v(\" \"),(!_vm.$auth.loggedIn)?_c('v-text-field',{attrs:{\"outlined\":\"\",\"rounded\":\"\",\"label\":_vm.$t('comments.form.emailLabel'),\"rules\":[_vm.rules.required, _vm.rules.isEmail]},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}):_vm._e(),_vm._v(\" \"),_c('v-btn',{staticClass:\"primary white--text\",attrs:{\"loading\":_vm.loading,\"type\":\"submit\",\"rounded\":\"\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('comments.form.button.text'))+\"\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-form ref=\"commentForm\" v-model=\"valid\" @submit.prevent=\"add\">\n    <v-textarea\n      v-model=\"text\"\n      :label=\"$t('comments.form.commentLabel')\"\n      single-line\n      outlined\n      rounded\n      :rules=\"[rules.required]\"\n    />\n    <v-text-field\n      v-if=\"!$auth.loggedIn\"\n      v-model=\"name\"\n      outlined\n      rounded\n      :label=\"$t('comments.form.nameLabel')\"\n      :rules=\"[rules.required]\"\n    />\n    <v-text-field\n      v-if=\"!$auth.loggedIn\"\n      v-model=\"email\"\n      outlined\n      rounded\n      :label=\"$t('comments.form.emailLabel')\"\n      :rules=\"[rules.required, rules.isEmail]\"\n    />\n    <v-btn :loading=\"loading\" type=\"submit\" rounded class=\"primary white--text\">\n      {{ $t('comments.form.button.text') }}\n    </v-btn>\n  </v-form>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nimport validations from '@/mixins/validations'\nexport default {\n  mixins: [validations],\n  props: {\n    post: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      text: '',\n      name: '',\n      email: '',\n      loading: false\n    }\n  },\n  methods: {\n    ...mapActions('comment', ['addComment']),\n    async add() {\n      this.$refs.commentForm.validate()\n      if (this.valid) {\n        let cm = {}\n        if (this.$auth.loggedIn) {\n          cm = {\n            text: this.text,\n            post: this.post._id,\n            user: this.$auth.user._id,\n            slug: this.post.slug\n          }\n        } else {\n          cm = {\n            text: this.text,\n            post: this.post._id,\n            name: this.name,\n            email: this.email,\n            slug: this.post.slug\n          }\n        }\n        const payload = cm\n        try {\n          this.loading = true\n          await this.addComment({ comment: payload, axios: this.$axios })\n          this.$refs.commentForm.reset()\n          this.loading = false\n        } catch (e) {\n          this.loading = false\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentForm.vue?vue&type=template&id=ab09208a&scoped=true&\"\nimport script from \"./CommentForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentForm.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"ab09208a\",\n  \"1b2662ec\"\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VForm,VTextField,VTextarea})\n"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AAGA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AA9BA;AAFA;AAmCA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAtCA;;;;;;;;;;;;ACAA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjCA;AAhBA;;ACnCA;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}